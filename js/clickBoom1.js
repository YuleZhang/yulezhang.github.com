(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

var numberOfParticules = 20;
var minOrbitRadius = 50;
var maxOrbitRadius = 100;
var minCircleRadius = 10;
var maxCircleRadius = 20;
var minAnimeDuration = 900;
var maxAnimeDuration = 1500;
var minDiffuseRadius = 50;
var maxDiffuseRadius = 100;
var canvasEl = document.querySelector(".fireworks");
var ctx = canvasEl.getContext("2d");
var pointerX = 0;
var pointerY = 0;
var tap = "ontouchstart" in window || navigator.msMaxTouchPoints ? "touchstart" : "mousedown"; // sea blue

var colors = ["127, 180, 226", "157, 209, 243", "204, 229, 255"];

function setCanvasSize() {
  canvasEl.width = window.innerWidth;
  canvasEl.height = window.innerHeight;
  canvasEl.style.width = window.innerWidth + "px";
  canvasEl.style.height = window.innerHeight + "px";
}

function updateCoords(e) {
  pointerX = e.clientX || e.touches[0].clientX;
  pointerY = e.clientY || e.touches[0].clientY;
}

function setParticuleDirection(p) {
  var angle = anime.random(0, 360) * Math.PI / 180;
  var value = anime.random(minDiffuseRadius, maxDiffuseRadius);
  var radius = [-1, 1][anime.random(0, 1)] * value;
  return {
    x: p.x + radius * Math.cos(angle),
    y: p.y + radius * Math.sin(angle)
  };
}

function createParticule(x, y) {
  var p = {};
  p.x = x;
  p.y = y;
  p.color = "rgba(" + colors[anime.random(0, colors.length - 1)] + "," + anime.random(0.2, 0.8) + ")";
  p.radius = anime.random(minCircleRadius, maxCircleRadius);
  p.endPos = setParticuleDirection(p);

  p.draw = function () {
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.radius, 0, 2 * Math.PI, true);
    ctx.fillStyle = p.color;
    ctx.fill();
  };

  return p;
}

function createCircle(x, y) {
  var p = {};
  p.x = x;
  p.y = y;
  p.color = "#000";
  p.radius = 0.1;
  p.alpha = 0.5;
  p.lineWidth = 6;

  p.draw = function () {
    ctx.globalAlpha = p.alpha;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.radius, 0, 2 * Math.PI, true);
    ctx.lineWidth = p.lineWidth;
    ctx.strokeStyle = p.color;
    ctx.stroke();
    ctx.globalAlpha = 1;
  };

  return p;
}

function renderParticule(anim) {
  for (var i = 0; i < anim.animatables.length; i++) {
    anim.animatables[i].target.draw();
  }
}

function animateParticules(x, y) {
  var circle = createCircle(x, y);
  var particules = [];

  for (var i = 0; i < numberOfParticules; i++) {
    particules.push(createParticule(x, y));
  }

  anime.timeline().add({
    targets: particules,
    x: function x(p) {
      return p.endPos.x;
    },
    y: function y(p) {
      return p.endPos.y;
    },
    radius: 0.1,
    duration: anime.random(minAnimeDuration, maxAnimeDuration),
    easing: "easeOutExpo",
    update: renderParticule
  }).add({
    targets: circle,
    radius: anime.random(minOrbitRadius, maxOrbitRadius),
    lineWidth: 0,
    alpha: {
      value: 0,
      easing: "linear",
      duration: anime.random(600, 800)
    },
    duration: anime.random(1200, 1800),
    easing: "easeOutExpo",
    update: renderParticule,
    offset: 0
  });
}

var render = anime({
  duration: Infinity,
  update: function update() {
    ctx.clearRect(0, 0, canvasEl.width, canvasEl.height);
  }
});
document.addEventListener(tap, function (e) {
  render.play();
  updateCoords(e);
  animateParticules(pointerX, pointerY);
}, false);
setCanvasSize();
window.addEventListener("resize", setCanvasSize, false);

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJ0aGVtZXMvaGV4by10aGVtZS1heWVyL3NvdXJjZS9qcy9jbGlja0Jvb20xLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxJQUFNLGtCQUFrQixHQUFHLEVBQTNCO0FBRUEsSUFBTSxjQUFjLEdBQUcsRUFBdkI7QUFDQSxJQUFNLGNBQWMsR0FBRyxHQUF2QjtBQUVBLElBQU0sZUFBZSxHQUFHLEVBQXhCO0FBQ0EsSUFBTSxlQUFlLEdBQUcsRUFBeEI7QUFFQSxJQUFNLGdCQUFnQixHQUFHLEdBQXpCO0FBQ0EsSUFBTSxnQkFBZ0IsR0FBRyxJQUF6QjtBQUVBLElBQU0sZ0JBQWdCLEdBQUcsRUFBekI7QUFDQSxJQUFNLGdCQUFnQixHQUFHLEdBQXpCO0FBRUEsSUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsWUFBdkIsQ0FBZjtBQUNBLElBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyxVQUFULENBQW9CLElBQXBCLENBQVY7QUFDQSxJQUFJLFFBQVEsR0FBRyxDQUFmO0FBQ0EsSUFBSSxRQUFRLEdBQUcsQ0FBZjtBQUVBLElBQUksR0FBRyxHQUNMLGtCQUFrQixNQUFsQixJQUE0QixTQUFTLENBQUMsZ0JBQXRDLEdBQ0ksWUFESixHQUVJLFdBSE4sQyxDQUtBOztBQUNBLElBQUksTUFBTSxHQUFHLENBQUMsZUFBRCxFQUFrQixlQUFsQixFQUFtQyxlQUFuQyxDQUFiOztBQUVBLFNBQVMsYUFBVCxHQUF5QjtBQUN2QixFQUFBLFFBQVEsQ0FBQyxLQUFULEdBQWlCLE1BQU0sQ0FBQyxVQUF4QjtBQUNBLEVBQUEsUUFBUSxDQUFDLE1BQVQsR0FBa0IsTUFBTSxDQUFDLFdBQXpCO0FBQ0EsRUFBQSxRQUFRLENBQUMsS0FBVCxDQUFlLEtBQWYsR0FBdUIsTUFBTSxDQUFDLFVBQVAsR0FBb0IsSUFBM0M7QUFDQSxFQUFBLFFBQVEsQ0FBQyxLQUFULENBQWUs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QUMsTUFBN0M7QUFDRDtBQUpnQixDQUFELENBQWxCO0FBT0EsUUFBUSxDQUFDLGdCQUFULENBQ0UsR0FERixFQUVFLFVBQVUsQ0FBVixFQUFhO0FBQ1gsRUFBQSxNQUFNLENBQUMsSUFBUDtBQUNBLEVBQUEsWUFBWSxDQUFDLENBQUQsQ0FBWjtBQUNBLEVBQUEsaUJBQWlCLENBQUMsUUFBRCxFQUFXLFFBQVgsQ0FBakI7QUFDRCxDQU5ILEVBT0UsS0FQRjtBQVVBLGFBQWE7QUFDYixNQUFNLENBQUMsZ0JBQVAsQ0FBd0IsUUFBeEIsRUFBa0MsYUFBbEMsRUFBaUQsS0FBakQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJjb25zdCBudW1iZXJPZlBhcnRpY3VsZXMgPSAyMDtcblxuY29uc3QgbWluT3JiaXRSYWRpdXMgPSA1MDtcbmNvbnN0IG1heE9yYml0UmFkaXVzID0gMTAwO1xuXG5jb25zdCBtaW5DaXJjbGVSYWRpdXMgPSAxMDtcbmNvbnN0IG1heENpcmNsZVJhZGl1cyA9IDIwO1xuXG5jb25zdCBtaW5BbmltZUR1cmF0aW9uID0gOTAwO1xuY29uc3QgbWF4QW5pbWVEdXJhdGlvbiA9IDE1MDA7XG5cbmNvbnN0IG1pbkRpZmZ1c2VSYWRpdXMgPSA1MDtcbmNvbnN0IG1heERpZmZ1c2VSYWRpdXMgPSAxMDA7XG5cbmxldCBjYW52YXNFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmlyZXdvcmtzXCIpO1xubGV0IGN0eCA9IGNhbnZhc0VsLmdldENvbnRleHQoXCIyZFwiKTtcbmxldCBwb2ludGVyWCA9IDA7XG5sZXQgcG9pbnRlclkgPSAwO1xuXG5sZXQgdGFwID1cbiAgXCJvbnRvdWNoc3RhcnRcIiBpbiB3aW5kb3cgfHwgbmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHNcbiAgICA/IFwidG91Y2hzdGFydFwiXG4gICAgOiBcIm1vdXNlZG93blwiO1xuXG4vLyBzZWEgYmx1ZVxubGV0IGNvbG9ycyA9IFtcIjEyNywgMTgwLCAyMjZcIiwgXCIxNTcsIDIwOSwgMjQzXCIsIFwiMjA0LCAyMjksIDI1NVwiXTtcblxuZnVuY3Rpb24gc2V0Q2FudmFzU2l6ZSgpIHtcbiAgY2FudmFzRWwud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgY2FudmFzRWwuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICBjYW52YXNFbC5zdHlsZS53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoICsgXCJweFwiO1xuICBjYW52YXNFbC5zdHlsZS5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKyBcInB4XCI7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNvb3JkcyhlKSB7XG4gIHBvaW50ZXJYID0gZS5jbGllbnRYIHx8IGUudG91Y2hlc1swXS5jbGllbnRYO1xuICBwb2ludGVyWSA9IGUuY2xpZW50WSB8fCBlLnRvdWNoZXNbMF0uY2xpZW50WTtcbn1cblxuZnVuY3Rpb24gc2V0UGFydGljdWxlRGlyZWN0aW9uKHApIHtcbiAgbGV0IGFuZ2xlID0gKGFuaW1lLnJhbmRvbSgwLCAzNjApICogTWF0aC5QSSkgLyAxODA7XG4gIGxldCB2YWx1ZSA9IGFuaW1lLnJhbmRvbShtaW5EaWZmdXNlUmFkaXVzLCBtYXhEaWZmdXNlUmFkaXVzKTtcbiAgbGV0IHJhZGl1cyA9IFstMSwgMV1bYW5pbWUucmFuZG9tKDAsIDEpXSAqIHZhbHVlO1xuICByZXR1cm4ge1xuICAgIHg6IHAueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSxcbiAgICB5OiBwLnkgKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSksXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhcnRpY3VsZSh4LCB5KSB7XG4gIGxldCBwID0ge307XG4gIHAueCA9IHg7XG4gIHAueSA9IHk7XG4gIHAuY29sb3IgPVxuICAgIFwicmdiYShcIiArXG4gICAgY29sb3JzW2FuaW1lLnJhbmRvbSgwLCBjb2xvcnMubGVuZ3RoIC0gMSldICtcbiAgICBcIixcIiArXG4gICAgYW5pbWUucmFuZG9tKDAuMiwgMC44KSArXG4gICAgXCIpXCI7XG4gIHAucmFkaXVzID0gYW5pbWUucmFuZG9tKG1pbkNpcmNsZVJhZGl1cywgbWF4Q2lyY2xlUmFkaXVzKTtcbiAgcC5lbmRQb3MgPSBzZXRQYXJ0aWN1bGVEaXJlY3Rpb24ocCk7XG4gIHAuZHJhdyA9IGZ1bmN0aW9uICgpIHtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhwLngsIHAueSwgcC5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJLCB0cnVlKTtcbiAgICBjdHguZmlsbFN0eWxlID0gcC5jb2xvcjtcbiAgICBjdHguZmlsbCgpO1xuICB9O1xuICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2lyY2xlKHgsIHkpIHtcbiAgbGV0IHAgPSB7fTtcbiAgcC54ID0geDtcbiAgcC55ID0geTtcbiAgcC5jb2xvciA9IFwiIzAwMFwiO1xuICBwLnJhZGl1cyA9IDAuMTtcbiAgcC5hbHBoYSA9IDAuNTtcbiAgcC5saW5lV2lkdGggPSA2O1xuICBwLmRyYXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgY3R4Lmdsb2JhbEFscGhhID0gcC5hbHBoYTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhwLngsIHAueSwgcC5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJLCB0cnVlKTtcbiAgICBjdHgubGluZVdpZHRoID0gcC5saW5lV2lkdGg7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gcC5jb2xvcjtcbiAgICBjdHguc3Ryb2tlKCk7XG4gICAgY3R4Lmdsb2JhbEFscGhhID0gMTtcbiAgfTtcbiAgcmV0dXJuIHA7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclBhcnRpY3VsZShhbmltKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYW5pbS5hbmltYXRhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgIGFuaW0uYW5pbWF0YWJsZXNbaV0udGFyZ2V0LmRyYXcoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhbmltYXRlUGFydGljdWxlcyh4LCB5KSB7XG4gIGxldCBjaXJjbGUgPSBjcmVhdGVDaXJjbGUoeCwgeSk7XG4gIGxldCBwYXJ0aWN1bGVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZQYXJ0aWN1bGVzOyBpKyspIHtcbiAgICBwYXJ0aWN1bGVzLnB1c2goY3JlYXRlUGFydGljdWxlKHgsIHkpKTtcbiAgfVxuICBhbmltZVxuICAgIC50aW1lbGluZSgpXG4gICAgLmFkZCh7XG4gICAgICB0YXJnZXRzOiBwYXJ0aWN1bGVzLFxuICAgICAgeDogZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIHAuZW5kUG9zLng7XG4gICAgICB9LFxuICAgICAgeTogZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIHAuZW5kUG9zLnk7XG4gICAgICB9LFxuICAgICAgcmFkaXVzOiAwLjEsXG4gICAgICBkdXJhdGlvbjogYW5pbWUucmFuZG9tKG1pbkFuaW1lRHVyYXRpb24sIG1heEFuaW1lRHVyYXRpb24pLFxuICAgICAgZWFzaW5nOiBcImVhc2VPdXRFeHBvXCIsXG4gICAgICB1cGRhdGU6IHJlbmRlclBhcnRpY3VsZSxcbiAgICB9KVxuICAgIC5hZGQoe1xuICAgICAgdGFyZ2V0czogY2lyY2xlLFxuICAgICAgcmFkaXVzOiBhbmltZS5yYW5kb20obWluT3JiaXRSYWRpdXMsIG1heE9yYml0UmFkaXVzKSxcbiAgICAgIGxpbmVXaWR0aDogMCxcbiAgICAgIGFscGhhOiB7XG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBlYXNpbmc6IFwibGluZWFyXCIsXG4gICAgICAgIGR1cmF0aW9uOiBhbmltZS5yYW5kb20oNjAwLCA4MDApLFxuICAgICAgfSxcbiAgICAgIGR1cmF0aW9uOiBhbmltZS5yYW5kb20oMTIwMCwgMTgwMCksXG4gICAgICBlYXNpbmc6IFwiZWFzZU91dEV4cG9cIixcbiAgICAgIHVwZGF0ZTogcmVuZGVyUGFydGljdWxlLFxuICAgICAgb2Zmc2V0OiAwLFxuICAgIH0pO1xufVxuXG5sZXQgcmVuZGVyID0gYW5pbWUoe1xuICBkdXJhdGlvbjogSW5maW5pdHksXG4gIHVwZGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzRWwud2lkdGgsIGNhbnZhc0VsLmhlaWdodCk7XG4gIH0sXG59KTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgdGFwLFxuICBmdW5jdGlvbiAoZSkge1xuICAgIHJlbmRlci5wbGF5KCk7XG4gICAgdXBkYXRlQ29vcmRzKGUpO1xuICAgIGFuaW1hdGVQYXJ0aWN1bGVzKHBvaW50ZXJYLCBwb2ludGVyWSk7XG4gIH0sXG4gIGZhbHNlXG4pO1xuXG5zZXRDYW52YXNTaXplKCk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBzZXRDYW52YXNTaXplLCBmYWxzZSk7XG4iXX0=
